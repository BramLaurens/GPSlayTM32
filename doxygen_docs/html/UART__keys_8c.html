<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GPSlay32: Core/MyApp/App/UART_keys.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">GPSlay32
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('UART__keys_8c.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">UART_keys.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Behandelt de communicatie met de UART.<br  />
 <b>Demonstreert: IRQ-handling, queue-handling, tasknotifcation, string-handling (strtok, pointers).</b><br  />
 Aan de UART is een interrupt gekoppeld, waarvan de ISR (zie: <a class="el" href="main_8c.html#ae494a9643f29b87d6d81e5264e60e57b" title="ISR die UART-characters op een Queue zet. De core-functie wordt gegenereerd.">HAL_UART_RxCpltCallback()</a>) in <a class="el" href="main_8c.html" title=": Main program body">main.c</a> gegenereerd is. Elke toets (character), die in een terminalprogramma ingedrukt wordt, wordt in de ISR in een queue gezet.<br  />
 De task <a class="el" href="#a2f8c9b40e09f1da12285de5c47e13856" title="Leest characters in die de gebruiker via Terminalprogramma intikt.">UART_keys_IRQ()</a> leest de queue uit nadat het LINEFEED-character is gevonden (nadat ENTER gedrukt is). De task leest de queue uit en vult een eigen buffer. Deze buffer wordt via TaskNotify doorgestuurd naar de task die deze buffer interpreteert: <a class="el" href="#a54d4ec6474d826f35cbf28a391cc68a0" title="User Interface. De task wacht op kant en klare user-strings (TaskNotifyTake) van ISR-handler,...">UART_menu()</a>.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="admin_8h_source.html">admin.h</a>&gt;</code><br />
<code>#include &quot;main.h&quot;</code><br />
<code>#include &quot;cmsis_os.h&quot;</code><br />
<code>#include &quot;uart.h&quot;</code><br />
<code>#include &quot;<a class="el" href="NRF__driver_8h_source.html">NRF_driver.h</a>&quot;</code><br />
</div>
<p><a href="UART__keys_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2f8c9b40e09f1da12285de5c47e13856" id="r_a2f8c9b40e09f1da12285de5c47e13856"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2f8c9b40e09f1da12285de5c47e13856">UART_keys_IRQ</a> (void *argument)</td></tr>
<tr class="memdesc:a2f8c9b40e09f1da12285de5c47e13856"><td class="mdescLeft">&#160;</td><td class="mdescRight">Leest characters in die de gebruiker via Terminalprogramma intikt.  <br /></td></tr>
<tr class="memitem:a8301f294cdbb72fd9830d388af6e8725" id="r_a8301f294cdbb72fd9830d388af6e8725"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8301f294cdbb72fd9830d388af6e8725">UART_keys_poll</a> (void *argument)</td></tr>
<tr class="memdesc:a8301f294cdbb72fd9830d388af6e8725"><td class="mdescLeft">&#160;</td><td class="mdescRight">deze waarde kan hier veranderd worden.  <br /></td></tr>
<tr class="memitem:a54d4ec6474d826f35cbf28a391cc68a0" id="r_a54d4ec6474d826f35cbf28a391cc68a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a54d4ec6474d826f35cbf28a391cc68a0">UART_menu</a> (void *argument)</td></tr>
<tr class="memdesc:a54d4ec6474d826f35cbf28a391cc68a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">User Interface. De task wacht op kant en klare user-strings (TaskNotifyTake) van ISR-handler, en interpreteert de string. Het eerste character geeft het hoofd-commando aan. Afhankelijk van het commando worden opvolgende chars geinterpreteerd.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-var-members" class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac0e8ff7c2f49b0988165336ca423dcea" id="r_ac0e8ff7c2f49b0988165336ca423dcea"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac0e8ff7c2f49b0988165336ca423dcea">os_delay</a></td></tr>
<tr class="memdesc:ac0e8ff7c2f49b0988165336ca423dcea"><td class="mdescLeft">&#160;</td><td class="mdescRight">default value 100MSEC, kan veranderd worden via Terminal (user interface)  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Behandelt de communicatie met de UART.<br  />
 <b>Demonstreert: IRQ-handling, queue-handling, tasknotifcation, string-handling (strtok, pointers).</b><br  />
 Aan de UART is een interrupt gekoppeld, waarvan de ISR (zie: <a class="el" href="main_8c.html#ae494a9643f29b87d6d81e5264e60e57b" title="ISR die UART-characters op een Queue zet. De core-functie wordt gegenereerd.">HAL_UART_RxCpltCallback()</a>) in <a class="el" href="main_8c.html" title=": Main program body">main.c</a> gegenereerd is. Elke toets (character), die in een terminalprogramma ingedrukt wordt, wordt in de ISR in een queue gezet.<br  />
 De task <a class="el" href="#a2f8c9b40e09f1da12285de5c47e13856" title="Leest characters in die de gebruiker via Terminalprogramma intikt.">UART_keys_IRQ()</a> leest de queue uit nadat het LINEFEED-character is gevonden (nadat ENTER gedrukt is). De task leest de queue uit en vult een eigen buffer. Deze buffer wordt via TaskNotify doorgestuurd naar de task die deze buffer interpreteert: <a class="el" href="#a54d4ec6474d826f35cbf28a391cc68a0" title="User Interface. De task wacht op kant en klare user-strings (TaskNotifyTake) van ISR-handler,...">UART_menu()</a>. </p>
<dl class="section author"><dt>Author</dt><dd>MSC</dd></dl>
<dl class="section date"><dt>Date</dt><dd>5/5/2022 </dd></dl>

<p class="definition">Definition in file <a class="el" href="UART__keys_8c_source.html">UART_keys.c</a>.</p>
</div><a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="a2f8c9b40e09f1da12285de5c47e13856" name="a2f8c9b40e09f1da12285de5c47e13856"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f8c9b40e09f1da12285de5c47e13856">&#9670;&#160;</a></span>UART_keys_IRQ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UART_keys_IRQ </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>argument</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Leest characters in die de gebruiker via Terminalprogramma intikt. </p>
<ol type="1">
<li>wacht op chars in queue, gevuld door de IRQ_handler (<a class="el" href="main_8c.html" title=": Main program body">main.c</a>)</li>
<li>notifies/stuurt command-string naar andere task <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*argument</td><td>Niet gebruikt, eventueel een waarde of string om te testen </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
</li>
</ol>

<p class="definition">Definition at line <a class="el" href="UART__keys_8c_source.html#l00062">62</a> of file <a class="el" href="UART__keys_8c_source.html">UART_keys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   63</span>{</div>
<div class="line"><span class="lineno">   64</span>    <span class="keywordtype">char</span>            buffer[<a class="code hl_define" href="admin_8h.html#a18901836d92cf76a93826b9e1116292d">QSIZE_UART</a>];</div>
<div class="line"><span class="lineno">   65</span>    <span class="keywordtype">char</span>            buffer_copy[<a class="code hl_define" href="admin_8h.html#a18901836d92cf76a93826b9e1116292d">QSIZE_UART</a>];</div>
<div class="line"><span class="lineno">   66</span>    <span class="keywordtype">int</span>             pos = 0;</div>
<div class="line"><span class="lineno">   67</span>    <span class="keywordtype">int</span>             finish = <a class="code hl_define" href="admin_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><span class="lineno">   68</span>    osThreadId_t    hTask;</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span>    UART_puts((<span class="keywordtype">char</span> *)__func__); UART_puts(<span class="stringliteral">&quot;started, enter key on terminal...\r\n&quot;</span>);</div>
<div class="line"><span class="lineno">   71</span> </div>
<div class="line"><span class="lineno">   72</span>    <span class="keywordflow">if</span> (!(hTask = xTaskGetHandle(<span class="stringliteral">&quot;UART_menu&quot;</span>)))</div>
<div class="line"><span class="lineno">   73</span>        <a class="code hl_function" href="admin_8c.html#a34a9c5eb09cae80d85d5d13a348ee1e8">error_HaltOS</a>(<span class="stringliteral">&quot;Err:UART_hndl 0&quot;</span>);</div>
<div class="line"><span class="lineno">   74</span> </div>
<div class="line"><span class="lineno">   75</span>    <span class="keywordflow">while</span>(<a class="code hl_define" href="admin_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)</div>
<div class="line"><span class="lineno">   76</span>    {</div>
<div class="line"><span class="lineno">   77</span>        <span class="comment">// laat de VIC de q vullen, die per char in onze eigen string geplaatst wordt</span></div>
<div class="line"><span class="lineno">   78</span>        <span class="comment">// tot LFEED gedrukt is of qsize-1 bereikt is.</span></div>
<div class="line"><span class="lineno">   79</span>        <span class="comment">// nb: argument 2 is het adres waar ik het q-char in zet</span></div>
<div class="line"><span class="lineno">   80</span>        <span class="comment">// nb: q-receive haalt gelijk de buffer leeg (q-peek niet).</span></div>
<div class="line"><span class="lineno">   81</span>        xQueueReceive(<a class="code hl_variable" href="admin_8c.html#a1db415a0f7c5ecff145e4bb53cc54dbe">hUART_Queue</a>, &amp;buffer[pos], portMAX_DELAY);</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span>        <span class="comment">// negeer dit char bij geen data: -1, 255, of CR of spatie</span></div>
<div class="line"><span class="lineno">   84</span>        <span class="keywordflow">if</span> (buffer[pos] == 0 || buffer[pos] == -1 || buffer[pos] == 255 || buffer[pos] == CRETURN || buffer[pos] == 32)</div>
<div class="line"><span class="lineno">   85</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">   86</span> </div>
<div class="line"><span class="lineno">   87</span>        <span class="comment">//UART_putchar(buffer[pos]);  // echo</span></div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>        <span class="comment">// check of de string gesloten was of gesloten moet worden...</span></div>
<div class="line"><span class="lineno">   90</span>        <span class="keywordflow">if</span> (buffer[pos] == LFEED)     <span class="comment">// close als LF gedrukt</span></div>
<div class="line"><span class="lineno">   91</span>        {</div>
<div class="line"><span class="lineno">   92</span>            buffer[pos] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">   93</span>            finish = <a class="code hl_define" href="admin_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span>        }</div>
<div class="line"><span class="lineno">   96</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pos == <a class="code hl_define" href="admin_8h.html#a18901836d92cf76a93826b9e1116292d">QSIZE_UART</a> - 2) <span class="comment">// close if end of buf</span></div>
<div class="line"><span class="lineno">   97</span>        {</div>
<div class="line"><span class="lineno">   98</span>            buffer[++pos] = <span class="charliteral">&#39;\0&#39;</span>;       <span class="comment">// first, skip to last position, then close string</span></div>
<div class="line"><span class="lineno">   99</span>            finish = <a class="code hl_define" href="admin_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><span class="lineno">  100</span>        }</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>        <span class="keywordflow">if</span> (finish)</div>
<div class="line"><span class="lineno">  103</span>        {</div>
<div class="line"><span class="lineno">  104</span>            <span class="comment">// de volgende taak krijgt een copy van de string</span></div>
<div class="line"><span class="lineno">  105</span>            <span class="comment">// mijn eigen buffer kan zo gelijk weer gevuld worden door de ISR</span></div>
<div class="line"><span class="lineno">  106</span>            strcpy(buffer_copy, buffer);</div>
<div class="line"><span class="lineno">  107</span>            memset(buffer, 0, <a class="code hl_define" href="admin_8h.html#a18901836d92cf76a93826b9e1116292d">QSIZE_UART</a>); <span class="comment">// clear original buffer</span></div>
<div class="line"><span class="lineno">  108</span>            finish = <a class="code hl_define" href="admin_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><span class="lineno">  109</span>            pos = 0;</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>            xTaskNotify(hTask, buffer_copy, eSetValueWithOverwrite); <span class="comment">// notify task2 with copy</span></div>
<div class="line"><span class="lineno">  112</span>            <span class="comment">//hello test</span></div>
<div class="line"><span class="lineno">  113</span> </div>
<div class="line"><span class="lineno">  114</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="admin_8c.html#a952449da34b356e2651de547daf4312c">Uart_debug_out</a> &amp; <a class="code hl_define" href="admin_8h.html#a4fb4ecb0210feec08883b3c4a1d401e3">UART_DEBUG_OUT</a>)</div>
<div class="line"><span class="lineno">  115</span>            {</div>
<div class="line"><span class="lineno">  116</span>                UART_puts(<span class="stringliteral">&quot;\n\r&quot;</span>); UART_puts((<span class="keywordtype">char</span> *)__func__);</div>
<div class="line"><span class="lineno">  117</span>                UART_puts(<span class="stringliteral">&quot;: UART_menu notified with &quot;</span>); UART_puts(buffer_copy);</div>
<div class="line"><span class="lineno">  118</span>                UART_puts(<span class="stringliteral">&quot;\r\n&quot;</span>);</div>
<div class="line"><span class="lineno">  119</span>            }</div>
<div class="line"><span class="lineno">  120</span>        }</div>
<div class="line"><span class="lineno">  121</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  122</span>            pos++;</div>
<div class="line"><span class="lineno">  123</span>    }</div>
<div class="line"><span class="lineno">  124</span>}</div>
<div class="ttc" id="aadmin_8c_html_a1db415a0f7c5ecff145e4bb53cc54dbe"><div class="ttname"><a href="admin_8c.html#a1db415a0f7c5ecff145e4bb53cc54dbe">hUART_Queue</a></div><div class="ttdeci">QueueHandle_t hUART_Queue</div><div class="ttdoc">typedefs of struct itself and pointer to it</div><div class="ttdef"><b>Definition</b> <a href="admin_8c_source.html#l00047">admin.c:47</a></div></div>
<div class="ttc" id="aadmin_8c_html_a34a9c5eb09cae80d85d5d13a348ee1e8"><div class="ttname"><a href="admin_8c.html#a34a9c5eb09cae80d85d5d13a348ee1e8">error_HaltOS</a></div><div class="ttdeci">void error_HaltOS(char *msg)</div><div class="ttdoc">Fatale OS-error opgetreden tijdens startup of runtime, doorgaan is zinloos. Het OS wordt tot stoppen ...</div><div class="ttdef"><b>Definition</b> <a href="admin_8c_source.html#l00202">admin.c:202</a></div></div>
<div class="ttc" id="aadmin_8c_html_a952449da34b356e2651de547daf4312c"><div class="ttname"><a href="admin_8c.html#a952449da34b356e2651de547daf4312c">Uart_debug_out</a></div><div class="ttdeci">int Uart_debug_out</div><div class="ttdoc">default: debug all output to uart</div><div class="ttdef"><b>Definition</b> <a href="admin_8c_source.html#l00040">admin.c:40</a></div></div>
<div class="ttc" id="aadmin_8h_html_a18901836d92cf76a93826b9e1116292d"><div class="ttname"><a href="admin_8h.html#a18901836d92cf76a93826b9e1116292d">QSIZE_UART</a></div><div class="ttdeci">#define QSIZE_UART</div><div class="ttdoc">set queue op 10 elementen</div><div class="ttdef"><b>Definition</b> <a href="admin_8h_source.html#l00027">admin.h:27</a></div></div>
<div class="ttc" id="aadmin_8h_html_a4fb4ecb0210feec08883b3c4a1d401e3"><div class="ttname"><a href="admin_8h.html#a4fb4ecb0210feec08883b3c4a1d401e3">UART_DEBUG_OUT</a></div><div class="ttdeci">#define UART_DEBUG_OUT</div><div class="ttdoc">bit 3: toggles uart2 stuff output</div><div class="ttdef"><b>Definition</b> <a href="admin_8h_source.html#l00081">admin.h:81</a></div></div>
<div class="ttc" id="aadmin_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="admin_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition</b> <a href="admin_8h_source.html#l00023">admin.h:23</a></div></div>
<div class="ttc" id="aadmin_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="admin_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition</b> <a href="admin_8h_source.html#l00024">admin.h:24</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="admin_8c_source.html#l00202">error_HaltOS()</a>, <a class="el" href="admin_8h_source.html#l00024">FALSE</a>, <a class="el" href="admin_8c_source.html#l00047">hUART_Queue</a>, <a class="el" href="admin_8h_source.html#l00027">QSIZE_UART</a>, <a class="el" href="admin_8h_source.html#l00023">TRUE</a>, <a class="el" href="admin_8h_source.html#l00081">UART_DEBUG_OUT</a>, and <a class="el" href="admin_8c_source.html#l00040">Uart_debug_out</a>.</p>

</div>
</div>
<a id="a8301f294cdbb72fd9830d388af6e8725" name="a8301f294cdbb72fd9830d388af6e8725"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8301f294cdbb72fd9830d388af6e8725">&#9670;&#160;</a></span>UART_keys_poll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UART_keys_poll </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>argument</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>deze waarde kan hier veranderd worden. </p>
<p>Polt en leest characters in die de gebruiker via Terminalprogramma intikt.</p><ol type="1">
<li>leest characters van uart</li>
<li>notifies command-string naar andere task <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*argument</td><td>Niet gebruikt, eventueel een waarde of string om te testen </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
</li>
</ol>

<p class="definition">Definition at line <a class="el" href="UART__keys_8c_source.html#l00031">31</a> of file <a class="el" href="UART__keys_8c_source.html">UART_keys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   32</span>{</div>
<div class="line"><span class="lineno">   33</span>    <span class="keywordtype">char</span> buffer[<a class="code hl_define" href="admin_8h.html#a18901836d92cf76a93826b9e1116292d">QSIZE_UART</a>];</div>
<div class="line"><span class="lineno">   34</span> </div>
<div class="line"><span class="lineno">   35</span>    osThreadId_t hTask = xTaskGetHandle(<span class="stringliteral">&quot;UART_menu&quot;</span>);</div>
<div class="line"><span class="lineno">   36</span> </div>
<div class="line"><span class="lineno">   37</span>    UART_puts((<span class="keywordtype">char</span> *)__func__); UART_puts(<span class="stringliteral">&quot;started, enter key on terminal\n\r&quot;</span>);</div>
<div class="line"><span class="lineno">   38</span> </div>
<div class="line"><span class="lineno">   39</span>    <span class="keywordflow">while</span>(<a class="code hl_define" href="admin_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)</div>
<div class="line"><span class="lineno">   40</span>    {</div>
<div class="line"><span class="lineno">   41</span>        UART_gets(buffer, <a class="code hl_define" href="admin_8h.html#a18901836d92cf76a93826b9e1116292d">QSIZE_UART</a>, <a class="code hl_define" href="admin_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>); <span class="comment">// wait for string</span></div>
<div class="line"><span class="lineno">   42</span> </div>
<div class="line"><span class="lineno">   43</span>        xTaskNotify(hTask, buffer, eSetValueWithOverwrite); <span class="comment">// notify task2 with value</span></div>
<div class="line"><span class="lineno">   44</span> </div>
<div class="line"><span class="lineno">   45</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="admin_8c.html#a952449da34b356e2651de547daf4312c">Uart_debug_out</a> &amp; <a class="code hl_define" href="admin_8h.html#a4fb4ecb0210feec08883b3c4a1d401e3">UART_DEBUG_OUT</a>)</div>
<div class="line"><span class="lineno">   46</span>        {</div>
<div class="line"><span class="lineno">   47</span>            UART_puts(<span class="stringliteral">&quot;\n\r&quot;</span>); UART_puts((<span class="keywordtype">char</span> *)__func__);</div>
<div class="line"><span class="lineno">   48</span>            UART_puts(<span class="stringliteral">&quot;- notified with &quot;</span>); UART_puts(buffer);</div>
<div class="line"><span class="lineno">   49</span>            UART_puts(<span class="stringliteral">&quot;\r\n&quot;</span>);</div>
<div class="line"><span class="lineno">   50</span>        }</div>
<div class="line"><span class="lineno">   51</span>    }</div>
<div class="line"><span class="lineno">   52</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="admin_8h_source.html#l00027">QSIZE_UART</a>, <a class="el" href="admin_8h_source.html#l00023">TRUE</a>, <a class="el" href="admin_8h_source.html#l00081">UART_DEBUG_OUT</a>, and <a class="el" href="admin_8c_source.html#l00040">Uart_debug_out</a>.</p>

</div>
</div>
<a id="a54d4ec6474d826f35cbf28a391cc68a0" name="a54d4ec6474d826f35cbf28a391cc68a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54d4ec6474d826f35cbf28a391cc68a0">&#9670;&#160;</a></span>UART_menu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UART_menu </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>argument</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User Interface. De task wacht op kant en klare user-strings (TaskNotifyTake) van ISR-handler, en interpreteert de string. Het eerste character geeft het hoofd-commando aan. Afhankelijk van het commando worden opvolgende chars geinterpreteerd. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*argument</td><td>Niet gebruikt, eventueel een waarde of string om te testen </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<p><b>0 - 5</b>: Togglet verschillende debug-outputs naar UART</p>
<p>... en reageert ook op een paar letters</p>
<p>D: Verandert de Default OSTIME-DELAY, die gebruikt wordt bij de LEDs. commando: <b>"d,200"</b> betekent: set delay op 200, NB: spaties worden niet afgevangen...</p>
<p>M: Displays het menu (zie my_app.c)</p>
<p>T: Displays de stackdata van alle Tasks</p>
<p>P: Verandert de Prioriteit van een taak commando, als: <b>"t,9,20"</b> betekent: set Task 9 op priority 20</p>
<p>S: Start/Stop task commando, als: <b>"s,9"</b> betekent: start/stop Task 9</p>

<p class="definition">Definition at line <a class="el" href="UART__keys_8c_source.html#l00134">134</a> of file <a class="el" href="UART__keys_8c_source.html">UART_keys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  135</span>{</div>
<div class="line"><span class="lineno">  136</span>    <span class="keywordtype">char</span>   *s;</div>
<div class="line"><span class="lineno">  137</span>    <span class="keywordtype">char</span>   *tok = <span class="stringliteral">&quot;,&quot;</span>;  <span class="comment">// token if command is more than 1 char</span></div>
<div class="line"><span class="lineno">  138</span>    <span class="keywordtype">int</span>     val1, val2;</div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>    UART_puts((<span class="keywordtype">char</span> *)__func__); UART_puts(<span class="stringliteral">&quot;started\n\r&quot;</span>);</div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span>    <span class="keywordflow">while</span> (<a class="code hl_define" href="admin_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>)</div>
<div class="line"><span class="lineno">  143</span>    {</div>
<div class="line"><span class="lineno">  144</span>        <span class="comment">// wacht op de string; let op de cast van (unsigned long) naar (char *)!</span></div>
<div class="line"><span class="lineno">  145</span>        <span class="comment">// want de waarde die ik terug krijg is een pointer.</span></div>
<div class="line"><span class="lineno">  146</span>        s = (<span class="keywordtype">char</span> *)ulTaskNotifyTake(pdTRUE, portMAX_DELAY);</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>        <span class="comment">// check het eerste (en vaak enige) karakter van de inkomende command-string</span></div>
<div class="line"><span class="lineno">  149</span>        <span class="comment">// toupper() zorgt ervoor dat het eerste karakter hoofdletter wordt, zo hoef ik niet op kleine</span></div>
<div class="line"><span class="lineno">  150</span>        <span class="comment">// letters te checken.</span></div>
<div class="line"><span class="lineno">  151</span>        <span class="keywordflow">switch</span> (toupper((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)s[0]))</div>
<div class="line"><span class="lineno">  152</span>        {</div>
<div class="line"><span class="lineno">  153</span>        <span class="keywordflow">default</span>:  UART_puts(s);</div>
<div class="line"><span class="lineno">  154</span>                  UART_puts(<span class="stringliteral">&quot; (unkown command)\r\n&quot;</span>);</div>
<div class="line"><span class="lineno">  155</span>                  <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  156</span></div>
<div class="line"><span class="lineno">  158</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;0&#39;</span>: <a class="code hl_variable" href="admin_8c.html#a952449da34b356e2651de547daf4312c">Uart_debug_out</a> = (<a class="code hl_variable" href="admin_8c.html#a952449da34b356e2651de547daf4312c">Uart_debug_out</a> ? <a class="code hl_define" href="admin_8h.html#aecec3b7ee8e67b05c23fe851e7115999">DEBUG_OUT_NONE</a> : <a class="code hl_define" href="admin_8h.html#adf61e71f815198fd487984a437f413fe">DEBUG_OUT_ALL</a>);</div>
<div class="line"><span class="lineno">  159</span>                  UART_puts(<span class="stringliteral">&quot;\r\nall debug output = &quot;</span>);</div>
<div class="line"><span class="lineno">  160</span>                  UART_puts(<a class="code hl_variable" href="admin_8c.html#a952449da34b356e2651de547daf4312c">Uart_debug_out</a> == <a class="code hl_define" href="admin_8h.html#adf61e71f815198fd487984a437f413fe">DEBUG_OUT_ALL</a> ? <span class="stringliteral">&quot;ON\r\n&quot;</span> : <span class="stringliteral">&quot;OFF\r\n&quot;</span>);</div>
<div class="line"><span class="lineno">  161</span> </div>
<div class="line"><span class="lineno">  162</span>                  <span class="comment">// als alle output uitgezet wordt, is het handig om gelijk het menu te laten zien.</span></div>
<div class="line"><span class="lineno">  163</span>                  <span class="keywordflow">if</span> (<a class="code hl_variable" href="admin_8c.html#a952449da34b356e2651de547daf4312c">Uart_debug_out</a> == <a class="code hl_define" href="admin_8h.html#aecec3b7ee8e67b05c23fe851e7115999">DEBUG_OUT_NONE</a>)</div>
<div class="line"><span class="lineno">  164</span>                      <a class="code hl_function" href="admin_8c.html#a93467475af28d4b75cafb508f95578bf">DisplayMenu</a>();</div>
<div class="line"><span class="lineno">  165</span>                  <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;1&#39;</span>: <a class="code hl_variable" href="admin_8c.html#a952449da34b356e2651de547daf4312c">Uart_debug_out</a> ^= <a class="code hl_define" href="admin_8h.html#a367617a9804f8aeeb1b5b09d17af0d1a">LEDS_DEBUG_OUT</a>; <span class="comment">// toggle output on/off</span></div>
<div class="line"><span class="lineno">  168</span>                  UART_puts(<span class="stringliteral">&quot;\r\nleds output = &quot;</span>);</div>
<div class="line"><span class="lineno">  169</span>                  UART_puts(<a class="code hl_variable" href="admin_8c.html#a952449da34b356e2651de547daf4312c">Uart_debug_out</a> &amp; <a class="code hl_define" href="admin_8h.html#a367617a9804f8aeeb1b5b09d17af0d1a">LEDS_DEBUG_OUT</a> ? <span class="stringliteral">&quot;ON\r\n&quot;</span> : <span class="stringliteral">&quot;OFF\r\n&quot;</span>);</div>
<div class="line"><span class="lineno">  170</span>                  <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  171</span> </div>
<div class="line"><span class="lineno">  172</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;2&#39;</span>: <a class="code hl_variable" href="admin_8c.html#a952449da34b356e2651de547daf4312c">Uart_debug_out</a> ^= <a class="code hl_define" href="admin_8h.html#ae2de7e45f2168abc45779a2d5dce35e2">ARMKEYS_DEBUG_OUT</a>; <span class="comment">// toggle output on/off</span></div>
<div class="line"><span class="lineno">  173</span>                  UART_puts(<span class="stringliteral">&quot;\r\narmkeys output = &quot;</span>);</div>
<div class="line"><span class="lineno">  174</span>                  UART_puts(<a class="code hl_variable" href="admin_8c.html#a952449da34b356e2651de547daf4312c">Uart_debug_out</a> &amp; <a class="code hl_define" href="admin_8h.html#ae2de7e45f2168abc45779a2d5dce35e2">ARMKEYS_DEBUG_OUT</a> ? <span class="stringliteral">&quot;ON\r\n&quot;</span> : <span class="stringliteral">&quot;OFF\r\n&quot;</span>);</div>
<div class="line"><span class="lineno">  175</span>                  <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;3&#39;</span>: <a class="code hl_variable" href="admin_8c.html#a952449da34b356e2651de547daf4312c">Uart_debug_out</a> ^= <a class="code hl_define" href="admin_8h.html#a4fb4ecb0210feec08883b3c4a1d401e3">UART_DEBUG_OUT</a>; <span class="comment">// toggle output on/off</span></div>
<div class="line"><span class="lineno">  178</span>                  UART_puts(<span class="stringliteral">&quot;\r\nuart output = &quot;</span>);</div>
<div class="line"><span class="lineno">  179</span>                  UART_puts(<a class="code hl_variable" href="admin_8c.html#a952449da34b356e2651de547daf4312c">Uart_debug_out</a> &amp; <a class="code hl_define" href="admin_8h.html#a4fb4ecb0210feec08883b3c4a1d401e3">UART_DEBUG_OUT</a> ? <span class="stringliteral">&quot;ON\r\n&quot;</span> : <span class="stringliteral">&quot;OFF\r\n&quot;</span>);</div>
<div class="line"><span class="lineno">  180</span>                  <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;4&#39;</span>: <a class="code hl_variable" href="admin_8c.html#a952449da34b356e2651de547daf4312c">Uart_debug_out</a> ^= <a class="code hl_define" href="admin_8h.html#a6fcd7c2c8ee6e408e84e96747933027c">STUDENT_DEBUG_OUT</a>; <span class="comment">// toggle output on/off</span></div>
<div class="line"><span class="lineno">  183</span>                  UART_puts(<span class="stringliteral">&quot;\r\nstudent output = &quot;</span>);</div>
<div class="line"><span class="lineno">  184</span>                  UART_puts(<a class="code hl_variable" href="admin_8c.html#a952449da34b356e2651de547daf4312c">Uart_debug_out</a> &amp; <a class="code hl_define" href="admin_8h.html#a6fcd7c2c8ee6e408e84e96747933027c">STUDENT_DEBUG_OUT</a> ? <span class="stringliteral">&quot;ON\r\n&quot;</span> : <span class="stringliteral">&quot;OFF\r\n&quot;</span>);</div>
<div class="line"><span class="lineno">  185</span>                  <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;5&#39;</span>: <a class="code hl_variable" href="admin_8c.html#a952449da34b356e2651de547daf4312c">Uart_debug_out</a> ^= <a class="code hl_define" href="admin_8h.html#aaaa64fd595cb0468a82ae3c5c19df4fd">GPS_DEBUG_OUT</a>; <span class="comment">// toggle output on/off</span></div>
<div class="line"><span class="lineno">  188</span>                  UART_puts(<span class="stringliteral">&quot;\r\nGPS output = &quot;</span>);</div>
<div class="line"><span class="lineno">  189</span>                  UART_puts(<a class="code hl_variable" href="admin_8c.html#a952449da34b356e2651de547daf4312c">Uart_debug_out</a> &amp; <a class="code hl_define" href="admin_8h.html#aaaa64fd595cb0468a82ae3c5c19df4fd">GPS_DEBUG_OUT</a> ? <span class="stringliteral">&quot;ON\r\n&quot;</span> : <span class="stringliteral">&quot;OFF\r\n&quot;</span>);</div>
<div class="line"><span class="lineno">  190</span>                  <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  191</span></div>
<div class="line"><span class="lineno">  193</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;D&#39;</span>: </div>
<div class="line"><span class="lineno">  195</span>                  <a class="code hl_variable" href="ledjes_8c.html#ac0e8ff7c2f49b0988165336ca423dcea">os_delay</a> = atoi(s+2); <span class="comment">// skip first 2 characters</span></div>
<div class="line"><span class="lineno">  196</span>                  UART_puts(<span class="stringliteral">&quot;\r\n os_delay set to: &quot;</span>); UART_putint(<a class="code hl_variable" href="ledjes_8c.html#ac0e8ff7c2f49b0988165336ca423dcea">os_delay</a>);</div>
<div class="line"><span class="lineno">  197</span>                  <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;M&#39;</span>: <a class="code hl_function" href="admin_8c.html#a93467475af28d4b75cafb508f95578bf">DisplayMenu</a>(); </div>
<div class="line"><span class="lineno">  200</span>                  <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;T&#39;</span>: <a class="code hl_function" href="admin_8c.html#a8d78f01ecc2ff5ebf5c8c6450b175671">DisplayTaskData</a>(); </div>
<div class="line"><span class="lineno">  203</span>                  <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;P&#39;</span>: </div>
<div class="line"><span class="lineno">  207</span>                  <span class="comment">//  eerst: de 2 waarden worden uit de string gehaald met strtok()</span></div>
<div class="line"><span class="lineno">  208</span>                  <span class="comment">//  dan: de strings worden naar int geconverteerd</span></div>
<div class="line"><span class="lineno">  209</span>                  <span class="comment">//  nb. dit is wel grof geprogrammeerd zo, in het echt maak je hier een mooie functie van.</span></div>
<div class="line"><span class="lineno">  210</span>                  s = strtok(s,    tok);                 <span class="comment">// naar start van string, negeer &#39;t,&#39;</span></div>
<div class="line"><span class="lineno">  211</span>                  s = strtok(NULL, tok); val1 = atoi(s); <span class="comment">// volgende = task_id</span></div>
<div class="line"><span class="lineno">  212</span>                  s = strtok(NULL, tok); val2 = atoi(s); <span class="comment">// volgende = priority</span></div>
<div class="line"><span class="lineno">  213</span>                  <span class="keywordflow">if</span> (val1 &amp;&amp; val2)                      <span class="comment">// kleine validiteitscontrole</span></div>
<div class="line"><span class="lineno">  214</span>                      <a class="code hl_function" href="admin_8c.html#a08f97e6c32e65d04aa2425dadff927e1">SetTaskPriority</a>(val1, val2);</div>
<div class="line"><span class="lineno">  215</span>                  <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;S&#39;</span>: </div>
<div class="line"><span class="lineno">  219</span>                  <span class="comment">//  eerst: de waarde worden uit de string gehaald met strtok()</span></div>
<div class="line"><span class="lineno">  220</span>                  <span class="comment">//  dan: de string wordt naar int geconverteerd</span></div>
<div class="line"><span class="lineno">  221</span>                  <span class="comment">//  nb. dit is wel grof geprogrammeerd zo, in het echt maak je hier een mooie functie van.</span></div>
<div class="line"><span class="lineno">  222</span>                  s = strtok(s,    tok);                 <span class="comment">// naar start van string, negeer &#39;s,&#39;</span></div>
<div class="line"><span class="lineno">  223</span>                  s = strtok(NULL, tok); val1 = atoi(s); <span class="comment">// volgende = task_id</span></div>
<div class="line"><span class="lineno">  224</span>                  <span class="keywordflow">if</span> (val1)                      <span class="comment">// kleine validiteitscontrole</span></div>
<div class="line"><span class="lineno">  225</span>                      <a class="code hl_function" href="admin_8c.html#a3c09afd4e5fad01fc4adbb0c77ecbd6d">StartStopTask</a>(val1);</div>
<div class="line"><span class="lineno">  226</span>                  <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  227</span>        </div>
<div class="line"><span class="lineno">  228</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;X&#39;</span>:</div>
<div class="line"><span class="lineno">  229</span>                UART_puts(<span class="stringliteral">&quot;Testing NRF24 SPI communication..., should return 0x08\r\n&quot;</span>);</div>
<div class="line"><span class="lineno">  230</span>                uint8_t cfg = <a class="code hl_function" href="NRF__driver_8c.html#a54ef642fbc9fda4162e4cbb4cecd13ef">nrf24_SPI_commscheck</a>();</div>
<div class="line"><span class="lineno">  231</span>                <span class="keywordtype">char</span> tmp[8];</div>
<div class="line"><span class="lineno">  232</span>                snprintf(tmp, <span class="keyword">sizeof</span>(tmp), <span class="stringliteral">&quot;%02X&quot;</span>, cfg);   <span class="comment">// prints two hex digits</span></div>
<div class="line"><span class="lineno">  233</span>                UART_puts(<span class="stringliteral">&quot;CONFIG register: 0x&quot;</span>); UART_puts(tmp); UART_puts(<span class="stringliteral">&quot;\r\n&quot;</span>);</div>
<div class="line"><span class="lineno">  234</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  235</span>        </div>
<div class="line"><span class="lineno">  236</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;N&#39;</span>: <span class="comment">// Print NRF24 debug output</span></div>
<div class="line"><span class="lineno">  237</span>                <a class="code hl_variable" href="admin_8c.html#a952449da34b356e2651de547daf4312c">Uart_debug_out</a> ^= <a class="code hl_define" href="admin_8h.html#ad5d05d8c156f18a819b22c97b2096241">NRF24_DEBUG_OUT</a>; <span class="comment">// toggle output on/off</span></div>
<div class="line"><span class="lineno">  238</span>                UART_puts(<span class="stringliteral">&quot;\r\nNRF24 output = &quot;</span>);</div>
<div class="line"><span class="lineno">  239</span>                UART_puts(<a class="code hl_variable" href="admin_8c.html#a952449da34b356e2651de547daf4312c">Uart_debug_out</a> &amp; <a class="code hl_define" href="admin_8h.html#ad5d05d8c156f18a819b22c97b2096241">NRF24_DEBUG_OUT</a> ? <span class="stringliteral">&quot;ON\r\n&quot;</span> : <span class="stringliteral">&quot;OFF\r\n&quot;</span>);</div>
<div class="line"><span class="lineno">  240</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  241</span>        }</div>
<div class="line"><span class="lineno">  242</span>    }</div>
<div class="line"><span class="lineno">  243</span>}</div>
<div class="ttc" id="aNRF__driver_8c_html_a54ef642fbc9fda4162e4cbb4cecd13ef"><div class="ttname"><a href="NRF__driver_8c.html#a54ef642fbc9fda4162e4cbb4cecd13ef">nrf24_SPI_commscheck</a></div><div class="ttdeci">uint8_t nrf24_SPI_commscheck(void)</div><div class="ttdef"><b>Definition</b> <a href="NRF__driver_8c_source.html#l00085">NRF_driver.c:85</a></div></div>
<div class="ttc" id="aadmin_8c_html_a08f97e6c32e65d04aa2425dadff927e1"><div class="ttname"><a href="admin_8c.html#a08f97e6c32e65d04aa2425dadff927e1">SetTaskPriority</a></div><div class="ttdeci">void SetTaskPriority(int task_id, int new_priority)</div><div class="ttdoc">Verandert de prioriteit van een taak. Eerst wordt de taak gezocht in de lijst van alle taken (tasks[]...</div><div class="ttdef"><b>Definition</b> <a href="admin_8c_source.html#l00325">admin.c:325</a></div></div>
<div class="ttc" id="aadmin_8c_html_a3c09afd4e5fad01fc4adbb0c77ecbd6d"><div class="ttname"><a href="admin_8c.html#a3c09afd4e5fad01fc4adbb0c77ecbd6d">StartStopTask</a></div><div class="ttdeci">void StartStopTask(int task_id)</div><div class="ttdoc">Suspends (stopt) of Resumes (start) een task. Pas op. Als een task suspended wordt als hij een mutex ...</div><div class="ttdef"><b>Definition</b> <a href="admin_8c_source.html#l00353">admin.c:353</a></div></div>
<div class="ttc" id="aadmin_8c_html_a8d78f01ecc2ff5ebf5c8c6450b175671"><div class="ttname"><a href="admin_8c.html#a8d78f01ecc2ff5ebf5c8c6450b175671">DisplayTaskData</a></div><div class="ttdeci">void DisplayTaskData(void)</div><div class="ttdoc">Displays de stack-gegevens van alle taken op de UART.</div><div class="ttdef"><b>Definition</b> <a href="admin_8c_source.html#l00387">admin.c:387</a></div></div>
<div class="ttc" id="aadmin_8c_html_a93467475af28d4b75cafb508f95578bf"><div class="ttname"><a href="admin_8c.html#a93467475af28d4b75cafb508f95578bf">DisplayMenu</a></div><div class="ttdeci">void DisplayMenu(void)</div><div class="ttdef"><b>Definition</b> <a href="admin_8c_source.html#l00162">admin.c:162</a></div></div>
<div class="ttc" id="aadmin_8h_html_a367617a9804f8aeeb1b5b09d17af0d1a"><div class="ttname"><a href="admin_8h.html#a367617a9804f8aeeb1b5b09d17af0d1a">LEDS_DEBUG_OUT</a></div><div class="ttdeci">#define LEDS_DEBUG_OUT</div><div class="ttdoc">bit 1: toggles leds stuff output</div><div class="ttdef"><b>Definition</b> <a href="admin_8h_source.html#l00077">admin.h:77</a></div></div>
<div class="ttc" id="aadmin_8h_html_a6fcd7c2c8ee6e408e84e96747933027c"><div class="ttname"><a href="admin_8h.html#a6fcd7c2c8ee6e408e84e96747933027c">STUDENT_DEBUG_OUT</a></div><div class="ttdeci">#define STUDENT_DEBUG_OUT</div><div class="ttdoc">bit 4: toggles student stuff output</div><div class="ttdef"><b>Definition</b> <a href="admin_8h_source.html#l00083">admin.h:83</a></div></div>
<div class="ttc" id="aadmin_8h_html_aaaa64fd595cb0468a82ae3c5c19df4fd"><div class="ttname"><a href="admin_8h.html#aaaa64fd595cb0468a82ae3c5c19df4fd">GPS_DEBUG_OUT</a></div><div class="ttdeci">#define GPS_DEBUG_OUT</div><div class="ttdoc">bit 5: toggles gps uart1 output</div><div class="ttdef"><b>Definition</b> <a href="admin_8h_source.html#l00085">admin.h:85</a></div></div>
<div class="ttc" id="aadmin_8h_html_ad5d05d8c156f18a819b22c97b2096241"><div class="ttname"><a href="admin_8h.html#ad5d05d8c156f18a819b22c97b2096241">NRF24_DEBUG_OUT</a></div><div class="ttdeci">#define NRF24_DEBUG_OUT</div><div class="ttdoc">bit 7: toggles NRF24 RX output</div><div class="ttdef"><b>Definition</b> <a href="admin_8h_source.html#l00089">admin.h:89</a></div></div>
<div class="ttc" id="aadmin_8h_html_adf61e71f815198fd487984a437f413fe"><div class="ttname"><a href="admin_8h.html#adf61e71f815198fd487984a437f413fe">DEBUG_OUT_ALL</a></div><div class="ttdeci">#define DEBUG_OUT_ALL</div><div class="ttdoc">genereer alle test output</div><div class="ttdef"><b>Definition</b> <a href="admin_8h_source.html#l00071">admin.h:71</a></div></div>
<div class="ttc" id="aadmin_8h_html_ae2de7e45f2168abc45779a2d5dce35e2"><div class="ttname"><a href="admin_8h.html#ae2de7e45f2168abc45779a2d5dce35e2">ARMKEYS_DEBUG_OUT</a></div><div class="ttdeci">#define ARMKEYS_DEBUG_OUT</div><div class="ttdoc">bit 2: toggles armkeys stuff output</div><div class="ttdef"><b>Definition</b> <a href="admin_8h_source.html#l00079">admin.h:79</a></div></div>
<div class="ttc" id="aadmin_8h_html_aecec3b7ee8e67b05c23fe851e7115999"><div class="ttname"><a href="admin_8h.html#aecec3b7ee8e67b05c23fe851e7115999">DEBUG_OUT_NONE</a></div><div class="ttdeci">#define DEBUG_OUT_NONE</div><div class="ttdoc">stop alle test output</div><div class="ttdef"><b>Definition</b> <a href="admin_8h_source.html#l00069">admin.h:69</a></div></div>
<div class="ttc" id="aledjes_8c_html_ac0e8ff7c2f49b0988165336ca423dcea"><div class="ttname"><a href="ledjes_8c.html#ac0e8ff7c2f49b0988165336ca423dcea">os_delay</a></div><div class="ttdeci">unsigned int os_delay</div><div class="ttdoc">default value 100MSEC, kan veranderd worden via Terminal (user interface)</div><div class="ttdef"><b>Definition</b> <a href="ledjes_8c_source.html#l00036">ledjes.c:36</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="admin_8h_source.html#l00079">ARMKEYS_DEBUG_OUT</a>, <a class="el" href="admin_8h_source.html#l00071">DEBUG_OUT_ALL</a>, <a class="el" href="admin_8h_source.html#l00069">DEBUG_OUT_NONE</a>, <a class="el" href="admin_8c_source.html#l00162">DisplayMenu()</a>, <a class="el" href="admin_8c_source.html#l00387">DisplayTaskData()</a>, <a class="el" href="admin_8h_source.html#l00085">GPS_DEBUG_OUT</a>, <a class="el" href="admin_8h_source.html#l00077">LEDS_DEBUG_OUT</a>, <a class="el" href="admin_8h_source.html#l00089">NRF24_DEBUG_OUT</a>, <a class="el" href="NRF__driver_8c_source.html#l00085">nrf24_SPI_commscheck()</a>, <a class="el" href="ledjes_8c_source.html#l00036">os_delay</a>, <a class="el" href="admin_8c_source.html#l00325">SetTaskPriority()</a>, <a class="el" href="admin_8c_source.html#l00353">StartStopTask()</a>, <a class="el" href="admin_8h_source.html#l00083">STUDENT_DEBUG_OUT</a>, <a class="el" href="admin_8h_source.html#l00023">TRUE</a>, <a class="el" href="admin_8h_source.html#l00081">UART_DEBUG_OUT</a>, and <a class="el" href="admin_8c_source.html#l00040">Uart_debug_out</a>.</p>

</div>
</div>
<a name="doc-var-members" id="doc-var-members"></a><h2 id="header-doc-var-members" class="groupheader">Variable Documentation</h2>
<a id="ac0e8ff7c2f49b0988165336ca423dcea" name="ac0e8ff7c2f49b0988165336ca423dcea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0e8ff7c2f49b0988165336ca423dcea">&#9670;&#160;</a></span>os_delay</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int os_delay</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>default value 100MSEC, kan veranderd worden via Terminal (user interface) </p>

<p class="definition">Definition at line <a class="el" href="ledjes_8c_source.html#l00036">36</a> of file <a class="el" href="ledjes_8c_source.html">ledjes.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="ledjes_8c_source.html#l00044">LED_Task1()</a>, <a class="el" href="ledjes_8c_source.html#l00077">LED_Task2()</a>, <a class="el" href="ledjes_8c_source.html#l00107">LED_Task3()</a>, <a class="el" href="ledjes_8c_source.html#l00152">LED_Task4()</a>, and <a class="el" href="UART__keys_8c_source.html#l00134">UART_menu()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_c6310732a22f63c0c2fc5595561e68f1.html">Core</a></li><li class="navelem"><a href="dir_57032f474d1dbb45fddb3707c23dae53.html">MyApp</a></li><li class="navelem"><a href="dir_33625ee3d03525a7783dfd3fc9901b4f.html">App</a></li><li class="navelem"><a href="UART__keys_8c.html">UART_keys.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
